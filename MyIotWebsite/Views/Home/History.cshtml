@{
    ViewData["Title"] = "Action History";
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/history.css" asp-append-version="true" />
}

<div class="video-background-container">
    <div class="video-overlay"></div>
    <video playsinline autoplay muted loop id="bg-video">
        <source src="~/videos/background-video.mp4" type="video/mp4">
    </video>
</div>

<h1 class="display-4" style="color: #000B58;">Lịch sử Hành động</h1>
<p class="lead" style="color: #000B58;">Tra cứu và xem lại các thao tác điều khiển thiết bị.</p>

<div class="filter-card mb-4">
    <div class="row g-3 align-items-end">
        <div class="col-md-4 col-lg-3">
            <label for="search-input" class="form-label"><i class="fas fa-search me-2"></i>Tìm theo ID, giờ, ngày...</label>
            <input type="text" id="search-input" class="form-control" placeholder="Nhập ID, giờ, ngày giờ...">
        </div>
        <div class="col-md-2 col-lg-2">
            <label for="device-select" class="form-label"><i class="fas fa-robot me-2"></i>Thiết bị</label>
            <select id="device-select" class="form-select">
                <option value="all" selected>Tất cả</option>
                <option value="fan">Quạt</option>
                <option value="light">Đèn</option>
                <option value="ac">Điều hòa</option>
                <option value="Bump"> Bom </option>
            </select>
        </div>
        <div class="col-md-2 col-lg-2">
            <label for="status-select" class="form-label"><i class="fas fa-power-off me-2"></i>Trạng thái</label>
            <select id="status-select" class="form-select">
                <option value="all" selected>Tất cả</option>
                <option value="on">Bật</option>
                <option value="off">Tắt</option>
            </select>
        </div>
        <div class="col-md-2 col-lg-2">
            <label for="pagesize-select" class="form-label"><i class="fas fa-list-ol me-2"></i>Hiển thị</label>
            <select id="pagesize-select" class="form-select">
                <option value="10" selected>10</option>
                <option value="15">15</option>
                <option value="20">20</option>
            </select>
        </div>
        <div class="col-md-2 col-lg-3">
             <label class="form-label d-none d-md-block">&nbsp;</label> 
             <button id="search-btn" class="btn btn-primary w-100"><i class="fas fa-search me-2"></i>Tìm kiếm</button>
        </div>
    </div>
</div>

<div class="table-card">
    <div class="table-responsive">
        <table class="table table-hover mb-0">
            <thead class="table-light">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Thiết bị</th>
                    <th scope="col">Hành động</th>
                    <th scope="col">Thời gian</th>
                </tr>
            </thead>
            <tbody id="history-table-body">
            </tbody>
        </table>
    </div>
</div>

<nav class="mt-4">
    <ul class="pagination justify-content-center" id="pagination-controls"></ul>
</nav>

@section Scripts {
    <script src="~/js/pages/History.js" asp-append-version="true"></script>
}