@{
ViewData["Title"] = "Sensor Data";
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/SensorData.css" asp-append-version="true" />
}

<div class="video-background-container">
    <div class="video-overlay"></div>
    <video playsinline autoplay muted loop id="bg-video">
        <source src="~/videos/background-video.mp4" type="video/mp4">
    </video>
</div>

<h1 class="display-4">Tìm kiếm Dữ liệu Cảm biến</h1>
<p>Sử dụng bộ lọc thông minh để truy vấn dữ liệu.</p>

<div class="filter-card mb-4">
    <div class="row g-3 align-items-end">
        <div class="col-md-5">
            <label for="search-input" class="form-label"><i class="fas fa-keyboard me-2"></i>Nhập giá trị tìm kiếm</label>
            <input type="text" id="search-input" class="form-control" placeholder="Ví dụ: 30, 500, 2025-10-02..." />
        </div>
        <div class="col-md-3">
            <label for="search-type-select" class="form-label"><i class="fas fa-cogs me-2"></i>Loại tìm kiếm</label>
            <select id="search-type-select" class="form-select">
                <option value="ALL" selected>ALL</option>
                <option value="temperature">Nhiệt độ</option>
                <option value="humidity">Độ ẩm</option>
                <option value="light">Ánh sáng</option>
                <option value="dust">Độ Bụi</option>
                <option value="co2">CO2</option>
            </select>
        </div>
        <div class="col-md-2">
            <label for="pagesize-select" class="form-label"><i class="fas fa-list-ol me-2"></i>Số dòng</label>
            <select id="pagesize-select" class="form-select">
                <option value="10" selected>10</option>
                <option value="20">20</option>
                <option value="50">50</option>
            </select>
        </div>
        <div class="col-md-2">
            <button id="search-btn" class="btn btn-primary w-100">
                <i class="fas fa-search me-1"></i> Tìm
            </button>
        </div>
    </div>

    <hr class="my-3" />
    <div class="mb-2">
        <label class="form-label text-danger fw-bold">
            <i class="fas fa-exclamation-triangle me-2"></i>Khu vực nguy hiểm
        </label>
        <small class="form-text text-muted d-block">Xóa dữ liệu trong một khoảng thời gian. (Không thể xóa ngày hôm nay)</small>
    </div>
    <div class="row g-3 align-items-end">
        <div class="col-md-3">
            <button id="delete-btn" class="btn btn-danger w-100">
                <i class="fas fa-trash me-1"></i> Xóa Dữ liệu
            </button>
        </div>
    </div>

</div>

<div class="data-card">
    <table class="table table-hover data-table">
        <thead>
        <tr>
            <th class="sortable" data-sortby="id">ID <i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable" data-sortby="temperature">Nhiệt độ (°C) <i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable" data-sortby="humidity">Độ ẩm (%) <i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable" data-sortby="light">Ánh sáng (%)<i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable" data-sortby="dust">Bụi (PM2.5) <i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable" data-sortby="co2">CO2 <i class="fas fa-sort-down sort-icon"></i></th>
            <th class="sortable sorted desc" data-sortby="timestamp">Thời gian <i class="fas fa-sort-down sort-icon"></i></th>
        </tr>
        </thead>
        <tbody id="sensor-data-table-body"></tbody>
    </table>
</div>

<nav class="mt-4" aria-label="Page navigation">
    <ul class="pagination justify-content-center" id="pagination-controls"></ul>
</nav>

@section Scripts {
    <script src="~/js/pages/SensorData.js" asp-append-version="true"></script>
}