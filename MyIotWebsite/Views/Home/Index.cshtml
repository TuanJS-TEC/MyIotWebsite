@{
ViewData["Title"] = "Dashboard";
}

@section Styles {
    <link rel="stylesheet" href="~/css/pages/Index.css" asp-append-version="true" />
}

<div class="video-background-container">
    <div class="video-overlay"></div>
    <video playsinline autoplay muted loop id="bg-video">
        <source src="~/videos/background-video.mp4" type="video/mp4">
        Trình duyệt của bạn không hỗ trợ video.
    </video>
</div>


<div class="container-fluid py-4">

    <div class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4 mb-4">

        <div class="col">
            <div class="dashboard-card status-card"> <div class="icon temp"><i class="fas fa-thermometer-half"></i></div>
                <div class="info">
                    <h6>NHIỆT ĐỘ</h6>
                    <span class="value" id="temp-value">-- °C</span>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="dashboard-card status-card">
                <div class="icon hum"><i class="fas fa-tint"></i></div>
                <div class="info">
                    <h6>ĐỘ ẨM</h6>
                    <span class="value" id="hum-value">-- %</span>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="dashboard-card status-card">
                <div class="icon light"><i class="fas fa-sun"></i></div>
                <div class="info">
                    <h6>ÁNH SÁNG</h6>
                    <span class="value" id="light-value">-- %</span>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="dashboard-card status-card">
                <div class="icon dust"><i class="fas fa-smog"></i></div>
                <div class="info">
                    <h6>ĐỘ BỤI (PM2.5)</h6>
                    <span class="value" id="dust-value">--</span>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="dashboard-card status-card">
                <div class="icon co2"><i class="fas fa-wind"></i></div>
                <div class="info">
                    <h6>NỒNG ĐỘ CO2</h6>
                    <span class="value" id="co2-value">--</span>
                </div>
            </div>
        </div>

    </div>

    <div class="row">

        <div class="col-lg-12 mb-4"> <!-- Đã thay đổi từ col-lg-8 -->
            <div class="row">
                <div class="col-lg-6 mb-4">
                    <div class="dashboard-card"> <div>
                            <h5 class="d-flex align-items-center mb-3">
                                <i class="fas fa-chart-line me-2"></i> Dash Board
                            </h5>
                            <canvas id="sensorChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="col-lg-6 mb-4">
                    <div class="dashboard-card"> <div>
                            <h5 class="d-flex align-items-center mb-3">
                                <i class="fas fa-smog me-2"></i> Phân Tích Bụi & CO2
                            </h5>
                            <canvas id="dustCo2Chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div> <!-- Đã đóng hàng của biểu đồ -->

    <div class="row"> <!-- Hàng mới cho Bảng Điều Khiển -->
        <div class="col-lg-12 mb-4"> <!-- Đã thay đổi từ col-lg-4 -->
            <div class="dashboard-card"> <h5 class="mb-3">Bảng Điều Khiển</h5>
                <div class="row"> <!-- Thêm row để xếp các control theo chiều ngang -->
                    <div class="col-md-4"> <!-- Cột cho Quạt -->
                        <div class="control-card mb-3 mb-md-0"> <!-- Điều chỉnh margin -->
                            <div class="info">
                                <span class="icon">💨</span>
                                <div>
                                    <h5>Quạt</h5>
                                    <span class="status" id="fan-status">Đang tải...</span>
                                </div>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="fan-toggle">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4"> <!-- Cột cho Đèn -->
                        <div class="control-card mb-3 mb-md-0"> <!-- Điều chỉnh margin -->
                            <div class="info">
                                <span class="icon">💡</span>
                                <div>
                                    <h5>Đèn</h5>
                                    <span class="status" id="light-status">Đang tải...</span>
                                </div>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="light-toggle">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4"> <!-- Cột cho Điều hòa -->
                        <div class="control-card"> <!-- Xóa mb-3 -->
                            <div class="info">
                                <span class="icon">❄️</span>
                                <div>
                                    <h5>Điều hòa</h5>
                                    <span class="status" id="ac-status">Đang tải...</span>
                                </div>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="ac-toggle">
                            </div>
                        </div>
                    </div>
                </div> <!-- Đóng inner-row -->
            </div>
        </div>

    </div>

    <div class="row mt-4">
        <div class="col-12">
            <div class="dashboard-card tech-footer text-center">
                <div class="d-flex justify-content-around align-items-center">
                    <a href="https://dotnet.microsoft.com/apps/aspnet" target="_blank" title="ASP.NET Core">
                        <img src="~/icons/Aspnet SVG Icon.svg" alt="ASP.NET Core" height="50">
                    </a>
                    <a href="https://mqtt.org/" target="_blank" title="MQTT">
                        <img src="~/icons/MQTT Horizontal Neg.svg" alt="MQTT" height="50">
                    </a>
                    <a href="https://www.espressif.com/en/products/socs/esp32" target="_blank" title="ESP32">
                        <img src="~/icons/Esp 32.svg" alt="ESP32" height="30" style="border-radius: 7px;">
                    </a>
                    <a href="https://en.gravatar.com/" target="_blank" title="Gravatar">
                        <img src="~/icons/Gravatar SVG Icon.svg" alt="Gravatar" height="50">
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script src="~/js/pages/Index.js" asp-append-version="true"></script>
}